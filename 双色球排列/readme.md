# 双色球排列

- 有5个球, 可以是黑色或红色, 连续三个球不能是相同的颜色, 打印出所有组合
- 有10个球
- 我N个球

## 5个球

先自己排一下

||1|2|3|4|5|
|:-:|:-:|:-:|:-:|:-:|:-:|
|1|黑|黑|红|黑|黑|
|2|黑|黑|红|黑|红|
|3|黑|黑|红|红|黑|
|4|黑|红|黑|黑|红|
|5|黑|红|黑|红|黑|
|6|黑|红|黑|红|红|
|7|黑|红|红|黑|黑|
|8|黑|红|红|黑|红|
|9|红|黑|黑|红|黑|
|10|红|黑|黑|红|红|
|11|红|黑|红|黑|黑|
|12|红|黑|红|黑|红|
|13|红|黑|红|红|黑|
|14|红|红|黑|黑|红|
|15|红|红|黑|红|黑|
|16|红|红|黑|红|红|

在排的过程中找到规律

(这个是我自己按照习惯排列的)

一上来有两种可能

||1|
|:-:|:-:|
|1|黑|
|2|红|

排第二个球的时候会有4中可能

||1|2|
|:-:|:-:|:-:|
|1|黑|黑|
|2|黑|红|
|3|红|黑|
|4|红|红|

排第三个球的时候如果不考虑三个连续的情况, 会有8种可能, 去掉 `黑黑黑` 和 `红红红` 2个连续的, 只有6种可能

||1|2|3|
|:-:|:-:|:-:|:-:|
|-|黑|黑|黑|
|1|黑|黑|红|
|2|黑|红|黑|
|3|黑|红|红|
|4|红|黑|黑|
|5|红|黑|红|
|6|红|红|黑|
|-|红|红|红|

找到一种思路:

- 每增加一个球, 相当于增加一种可能
- 当要增加的颜色, 和前面两个颜色相同时, 则不增加这个颜色

以这个思路为基础编写代码如下:

``` js
// 5个球
const fiveBalls = () => {
  let index = 0
  let length = 5
  const result = []
  while (index < length) {
    if (!result.length) {
      // 放入第一个球
      result.push(['黑'], ['红'])
    } else {
      for (let i = 0; i < result.length; i++) {
        const item = result[i]
        const last1 = item[item.length - 1]
        const last2 = item[item.length - 2]
        // 前两个颜色相同
        if (last1 === last2) {
          item.push(last1 === '黑' ? '红': '黑')
        } else {
          // 不相同时增加两种可能
          const copyItem = item.map(_ => _)
          item.push('黑')
          copyItem.push('红')
          result.splice(i + 1, 0, copyItem)
          i++ // 数组插入一项后, i需要加1
        }
      }
    }
    index++
  }
  return result
}
```

执行后打印输出结果如下:

``` js
[
  "黑, 黑, 红, 黑, 黑",
  "黑, 黑, 红, 黑, 红",
  "黑, 黑, 红, 红, 黑",
  "黑, 红, 黑, 黑, 红",
  "黑, 红, 黑, 红, 黑",
  "黑, 红, 黑, 红, 红",
  "黑, 红, 红, 黑, 黑",
  "黑, 红, 红, 黑, 红",
  "红, 黑, 黑, 红, 黑",
  "红, 黑, 黑, 红, 红",
  "红, 黑, 红, 黑, 黑",
  "红, 黑, 红, 黑, 红",
  "红, 黑, 红, 红, 黑",
  "红, 红, 黑, 黑, 红",
  "红, 红, 黑, 红, 黑",
  "红, 红, 黑, 红, 红"
]
```

和上面表格中排出来的结果一致

证明方法可行

## 跳过10个, 直接N个

由于上面5个球的思路是渐进的, 即一个一个增加球的数量, 所以只需要把 `length` 改成 `n` 即可

``` js
// n个球
const nBalls = n => {
  let index = 0
  let length = n
  const result = []
  // ...同上
  return result
}

log(nBalls(1))
log(nBalls(2))
log(nBalls(3))
log(nBalls(5))
log(nBalls(10))
```

输出结果为:

``` js
// 1个
[
  "黑",
  "红"
]

// 2个
[
  "黑, 黑",
  "黑, 红",
  "红, 黑",
  "红, 红"
]
// 3个
[
  "黑, 黑, 红",
  "黑, 红, 黑",
  "黑, 红, 红",
  "红, 黑, 黑",
  "红, 黑, 红",
  "红, 红, 黑"
]

// 5个
[
  "黑, 黑, 红, 黑, 黑",
  "黑, 黑, 红, 黑, 红",
  "黑, 黑, 红, 红, 黑",
  "黑, 红, 黑, 黑, 红",
  "黑, 红, 黑, 红, 黑",
  "黑, 红, 黑, 红, 红",
  "黑, 红, 红, 黑, 黑",
  "黑, 红, 红, 黑, 红",
  "红, 黑, 黑, 红, 黑",
  "红, 黑, 黑, 红, 红",
  "红, 黑, 红, 黑, 黑",
  "红, 黑, 红, 黑, 红",
  "红, 黑, 红, 红, 黑",
  "红, 红, 黑, 黑, 红",
  "红, 红, 黑, 红, 黑",
  "红, 红, 黑, 红, 红"
]

// 10个
[
  "黑, 黑, 红, 黑, 黑, 红, 黑, 黑, 红, 黑",
  "黑, 黑, 红, 黑, 黑, 红, 黑, 黑, 红, 红",
  "黑, 黑, 红, 黑, 黑, 红, 黑, 红, 黑, 黑",
  "黑, 黑, 红, 黑, 黑, 红, 黑, 红, 黑, 红",
  "黑, 黑, 红, 黑, 黑, 红, 黑, 红, 红, 黑",
  "黑, 黑, 红, 黑, 黑, 红, 红, 黑, 黑, 红",
  "黑, 黑, 红, 黑, 黑, 红, 红, 黑, 红, 黑",
  "黑, 黑, 红, 黑, 黑, 红, 红, 黑, 红, 红",
  "黑, 黑, 红, 黑, 红, 黑, 黑, 红, 黑, 黑",
  "黑, 黑, 红, 黑, 红, 黑, 黑, 红, 黑, 红",
  "黑, 黑, 红, 黑, 红, 黑, 黑, 红, 红, 黑",
  "黑, 黑, 红, 黑, 红, 黑, 红, 黑, 黑, 红",
  "黑, 黑, 红, 黑, 红, 黑, 红, 黑, 红, 黑",
  "黑, 黑, 红, 黑, 红, 黑, 红, 黑, 红, 红",
  "黑, 黑, 红, 黑, 红, 黑, 红, 红, 黑, 黑",
  "黑, 黑, 红, 黑, 红, 黑, 红, 红, 黑, 红",
  "黑, 黑, 红, 黑, 红, 红, 黑, 黑, 红, 黑",
  "黑, 黑, 红, 黑, 红, 红, 黑, 黑, 红, 红",
  "黑, 黑, 红, 黑, 红, 红, 黑, 红, 黑, 黑",
  "黑, 黑, 红, 黑, 红, 红, 黑, 红, 黑, 红",
  "黑, 黑, 红, 黑, 红, 红, 黑, 红, 红, 黑",
  "黑, 黑, 红, 红, 黑, 黑, 红, 黑, 黑, 红",
  "黑, 黑, 红, 红, 黑, 黑, 红, 黑, 红, 黑",
  "黑, 黑, 红, 红, 黑, 黑, 红, 黑, 红, 红",
  "黑, 黑, 红, 红, 黑, 黑, 红, 红, 黑, 黑",
  "黑, 黑, 红, 红, 黑, 黑, 红, 红, 黑, 红",
  "黑, 黑, 红, 红, 黑, 红, 黑, 黑, 红, 黑",
  "黑, 黑, 红, 红, 黑, 红, 黑, 黑, 红, 红",
  "黑, 黑, 红, 红, 黑, 红, 黑, 红, 黑, 黑",
  "黑, 黑, 红, 红, 黑, 红, 黑, 红, 黑, 红",
  "黑, 黑, 红, 红, 黑, 红, 黑, 红, 红, 黑",
  "黑, 黑, 红, 红, 黑, 红, 红, 黑, 黑, 红",
  "黑, 黑, 红, 红, 黑, 红, 红, 黑, 红, 黑",
  "黑, 黑, 红, 红, 黑, 红, 红, 黑, 红, 红",
  "黑, 红, 黑, 黑, 红, 黑, 黑, 红, 黑, 黑",
  "黑, 红, 黑, 黑, 红, 黑, 黑, 红, 黑, 红",
  "黑, 红, 黑, 黑, 红, 黑, 黑, 红, 红, 黑",
  "黑, 红, 黑, 黑, 红, 黑, 红, 黑, 黑, 红",
  "黑, 红, 黑, 黑, 红, 黑, 红, 黑, 红, 黑",
  "黑, 红, 黑, 黑, 红, 黑, 红, 黑, 红, 红",
  "黑, 红, 黑, 黑, 红, 黑, 红, 红, 黑, 黑",
  "黑, 红, 黑, 黑, 红, 黑, 红, 红, 黑, 红",
  "黑, 红, 黑, 黑, 红, 红, 黑, 黑, 红, 黑",
  "黑, 红, 黑, 黑, 红, 红, 黑, 黑, 红, 红",
  "黑, 红, 黑, 黑, 红, 红, 黑, 红, 黑, 黑",
  "黑, 红, 黑, 黑, 红, 红, 黑, 红, 黑, 红",
  "黑, 红, 黑, 黑, 红, 红, 黑, 红, 红, 黑",
  "黑, 红, 黑, 红, 黑, 黑, 红, 黑, 黑, 红",
  "黑, 红, 黑, 红, 黑, 黑, 红, 黑, 红, 黑",
  "黑, 红, 黑, 红, 黑, 黑, 红, 黑, 红, 红",
  "黑, 红, 黑, 红, 黑, 黑, 红, 红, 黑, 黑",
  "黑, 红, 黑, 红, 黑, 黑, 红, 红, 黑, 红",
  "黑, 红, 黑, 红, 黑, 红, 黑, 黑, 红, 黑",
  "黑, 红, 黑, 红, 黑, 红, 黑, 黑, 红, 红",
  "黑, 红, 黑, 红, 黑, 红, 黑, 红, 黑, 黑",
  "黑, 红, 黑, 红, 黑, 红, 黑, 红, 黑, 红",
  "黑, 红, 黑, 红, 黑, 红, 黑, 红, 红, 黑",
  "黑, 红, 黑, 红, 黑, 红, 红, 黑, 黑, 红",
  "黑, 红, 黑, 红, 黑, 红, 红, 黑, 红, 黑",
  "黑, 红, 黑, 红, 黑, 红, 红, 黑, 红, 红",
  "黑, 红, 黑, 红, 红, 黑, 黑, 红, 黑, 黑",
  "黑, 红, 黑, 红, 红, 黑, 黑, 红, 黑, 红",
  "黑, 红, 黑, 红, 红, 黑, 黑, 红, 红, 黑",
  "黑, 红, 黑, 红, 红, 黑, 红, 黑, 黑, 红",
  "黑, 红, 黑, 红, 红, 黑, 红, 黑, 红, 黑",
  "黑, 红, 黑, 红, 红, 黑, 红, 黑, 红, 红",
  "黑, 红, 黑, 红, 红, 黑, 红, 红, 黑, 黑",
  "黑, 红, 黑, 红, 红, 黑, 红, 红, 黑, 红",
  "黑, 红, 红, 黑, 黑, 红, 黑, 黑, 红, 黑",
  "黑, 红, 红, 黑, 黑, 红, 黑, 黑, 红, 红",
  "黑, 红, 红, 黑, 黑, 红, 黑, 红, 黑, 黑",
  "黑, 红, 红, 黑, 黑, 红, 黑, 红, 黑, 红",
  "黑, 红, 红, 黑, 黑, 红, 黑, 红, 红, 黑",
  "黑, 红, 红, 黑, 黑, 红, 红, 黑, 黑, 红",
  "黑, 红, 红, 黑, 黑, 红, 红, 黑, 红, 黑",
  "黑, 红, 红, 黑, 黑, 红, 红, 黑, 红, 红",
  "黑, 红, 红, 黑, 红, 黑, 黑, 红, 黑, 黑",
  "黑, 红, 红, 黑, 红, 黑, 黑, 红, 黑, 红",
  "黑, 红, 红, 黑, 红, 黑, 黑, 红, 红, 黑",
  "黑, 红, 红, 黑, 红, 黑, 红, 黑, 黑, 红",
  "黑, 红, 红, 黑, 红, 黑, 红, 黑, 红, 黑",
  "黑, 红, 红, 黑, 红, 黑, 红, 黑, 红, 红",
  "黑, 红, 红, 黑, 红, 黑, 红, 红, 黑, 黑",
  "黑, 红, 红, 黑, 红, 黑, 红, 红, 黑, 红",
  "黑, 红, 红, 黑, 红, 红, 黑, 黑, 红, 黑",
  "黑, 红, 红, 黑, 红, 红, 黑, 黑, 红, 红",
  "黑, 红, 红, 黑, 红, 红, 黑, 红, 黑, 黑",
  "黑, 红, 红, 黑, 红, 红, 黑, 红, 黑, 红",
  "黑, 红, 红, 黑, 红, 红, 黑, 红, 红, 黑",
  "红, 黑, 黑, 红, 黑, 黑, 红, 黑, 黑, 红",
  "红, 黑, 黑, 红, 黑, 黑, 红, 黑, 红, 黑",
  "红, 黑, 黑, 红, 黑, 黑, 红, 黑, 红, 红",
  "红, 黑, 黑, 红, 黑, 黑, 红, 红, 黑, 黑",
  "红, 黑, 黑, 红, 黑, 黑, 红, 红, 黑, 红",
  "红, 黑, 黑, 红, 黑, 红, 黑, 黑, 红, 黑",
  "红, 黑, 黑, 红, 黑, 红, 黑, 黑, 红, 红",
  "红, 黑, 黑, 红, 黑, 红, 黑, 红, 黑, 黑",
  "红, 黑, 黑, 红, 黑, 红, 黑, 红, 黑, 红",
  "红, 黑, 黑, 红, 黑, 红, 黑, 红, 红, 黑",
  "红, 黑, 黑, 红, 黑, 红, 红, 黑, 黑, 红",
  "红, 黑, 黑, 红, 黑, 红, 红, 黑, 红, 黑",
  "红, 黑, 黑, 红, 黑, 红, 红, 黑, 红, 红",
  "红, 黑, 黑, 红, 红, 黑, 黑, 红, 黑, 黑",
  "红, 黑, 黑, 红, 红, 黑, 黑, 红, 黑, 红",
  "红, 黑, 黑, 红, 红, 黑, 黑, 红, 红, 黑",
  "红, 黑, 黑, 红, 红, 黑, 红, 黑, 黑, 红",
  "红, 黑, 黑, 红, 红, 黑, 红, 黑, 红, 黑",
  "红, 黑, 黑, 红, 红, 黑, 红, 黑, 红, 红",
  "红, 黑, 黑, 红, 红, 黑, 红, 红, 黑, 黑",
  "红, 黑, 黑, 红, 红, 黑, 红, 红, 黑, 红",
  "红, 黑, 红, 黑, 黑, 红, 黑, 黑, 红, 黑",
  "红, 黑, 红, 黑, 黑, 红, 黑, 黑, 红, 红",
  "红, 黑, 红, 黑, 黑, 红, 黑, 红, 黑, 黑",
  "红, 黑, 红, 黑, 黑, 红, 黑, 红, 黑, 红",
  "红, 黑, 红, 黑, 黑, 红, 黑, 红, 红, 黑",
  "红, 黑, 红, 黑, 黑, 红, 红, 黑, 黑, 红",
  "红, 黑, 红, 黑, 黑, 红, 红, 黑, 红, 黑",
  "红, 黑, 红, 黑, 黑, 红, 红, 黑, 红, 红",
  "红, 黑, 红, 黑, 红, 黑, 黑, 红, 黑, 黑",
  "红, 黑, 红, 黑, 红, 黑, 黑, 红, 黑, 红",
  "红, 黑, 红, 黑, 红, 黑, 黑, 红, 红, 黑",
  "红, 黑, 红, 黑, 红, 黑, 红, 黑, 黑, 红",
  "红, 黑, 红, 黑, 红, 黑, 红, 黑, 红, 黑",
  "红, 黑, 红, 黑, 红, 黑, 红, 黑, 红, 红",
  "红, 黑, 红, 黑, 红, 黑, 红, 红, 黑, 黑",
  "红, 黑, 红, 黑, 红, 黑, 红, 红, 黑, 红",
  "红, 黑, 红, 黑, 红, 红, 黑, 黑, 红, 黑",
  "红, 黑, 红, 黑, 红, 红, 黑, 黑, 红, 红",
  "红, 黑, 红, 黑, 红, 红, 黑, 红, 黑, 黑",
  "红, 黑, 红, 黑, 红, 红, 黑, 红, 黑, 红",
  "红, 黑, 红, 黑, 红, 红, 黑, 红, 红, 黑",
  "红, 黑, 红, 红, 黑, 黑, 红, 黑, 黑, 红",
  "红, 黑, 红, 红, 黑, 黑, 红, 黑, 红, 黑",
  "红, 黑, 红, 红, 黑, 黑, 红, 黑, 红, 红",
  "红, 黑, 红, 红, 黑, 黑, 红, 红, 黑, 黑",
  "红, 黑, 红, 红, 黑, 黑, 红, 红, 黑, 红",
  "红, 黑, 红, 红, 黑, 红, 黑, 黑, 红, 黑",
  "红, 黑, 红, 红, 黑, 红, 黑, 黑, 红, 红",
  "红, 黑, 红, 红, 黑, 红, 黑, 红, 黑, 黑",
  "红, 黑, 红, 红, 黑, 红, 黑, 红, 黑, 红",
  "红, 黑, 红, 红, 黑, 红, 黑, 红, 红, 黑",
  "红, 黑, 红, 红, 黑, 红, 红, 黑, 黑, 红",
  "红, 黑, 红, 红, 黑, 红, 红, 黑, 红, 黑",
  "红, 黑, 红, 红, 黑, 红, 红, 黑, 红, 红",
  "红, 红, 黑, 黑, 红, 黑, 黑, 红, 黑, 黑",
  "红, 红, 黑, 黑, 红, 黑, 黑, 红, 黑, 红",
  "红, 红, 黑, 黑, 红, 黑, 黑, 红, 红, 黑",
  "红, 红, 黑, 黑, 红, 黑, 红, 黑, 黑, 红",
  "红, 红, 黑, 黑, 红, 黑, 红, 黑, 红, 黑",
  "红, 红, 黑, 黑, 红, 黑, 红, 黑, 红, 红",
  "红, 红, 黑, 黑, 红, 黑, 红, 红, 黑, 黑",
  "红, 红, 黑, 黑, 红, 黑, 红, 红, 黑, 红",
  "红, 红, 黑, 黑, 红, 红, 黑, 黑, 红, 黑",
  "红, 红, 黑, 黑, 红, 红, 黑, 黑, 红, 红",
  "红, 红, 黑, 黑, 红, 红, 黑, 红, 黑, 黑",
  "红, 红, 黑, 黑, 红, 红, 黑, 红, 黑, 红",
  "红, 红, 黑, 黑, 红, 红, 黑, 红, 红, 黑",
  "红, 红, 黑, 红, 黑, 黑, 红, 黑, 黑, 红",
  "红, 红, 黑, 红, 黑, 黑, 红, 黑, 红, 黑",
  "红, 红, 黑, 红, 黑, 黑, 红, 黑, 红, 红",
  "红, 红, 黑, 红, 黑, 黑, 红, 红, 黑, 黑",
  "红, 红, 黑, 红, 黑, 黑, 红, 红, 黑, 红",
  "红, 红, 黑, 红, 黑, 红, 黑, 黑, 红, 黑",
  "红, 红, 黑, 红, 黑, 红, 黑, 黑, 红, 红",
  "红, 红, 黑, 红, 黑, 红, 黑, 红, 黑, 黑",
  "红, 红, 黑, 红, 黑, 红, 黑, 红, 黑, 红",
  "红, 红, 黑, 红, 黑, 红, 黑, 红, 红, 黑",
  "红, 红, 黑, 红, 黑, 红, 红, 黑, 黑, 红",
  "红, 红, 黑, 红, 黑, 红, 红, 黑, 红, 黑",
  "红, 红, 黑, 红, 黑, 红, 红, 黑, 红, 红",
  "红, 红, 黑, 红, 红, 黑, 黑, 红, 黑, 黑",
  "红, 红, 黑, 红, 红, 黑, 黑, 红, 黑, 红",
  "红, 红, 黑, 红, 红, 黑, 黑, 红, 红, 黑",
  "红, 红, 黑, 红, 红, 黑, 红, 黑, 黑, 红",
  "红, 红, 黑, 红, 红, 黑, 红, 黑, 红, 黑",
  "红, 红, 黑, 红, 红, 黑, 红, 黑, 红, 红",
  "红, 红, 黑, 红, 红, 黑, 红, 红, 黑, 黑",
  "红, 红, 黑, 红, 红, 黑, 红, 红, 黑, 红"
]
```

Emmm, 10个的结果比较长, 希望可以折叠代码

然后再将题目进行扩展

## 不只两个颜色, 如果是多个颜色呢

可以将之前的颜色定为 `['黑', '红']`

假设现在的颜色是 `['红', '黄', '蓝']`

从代码上看, 有几个需要修改的地方(比5个改成n要复杂一些):

- 增加 `colors` 传参
- 增加一个方法来判断颜色是否相同
- 将之前插入新可能方式改为替换, 即把当前的加上所有可能的颜色后替换掉当前的

``` js
// n个球 n个颜色
const nBallsNColors = (n, colors = ['黑', '红']) => {
  let index = 0
  let length = n
  const result = []
  while (index < length) {
    if (!result.length) {
      // 放入第一个球
      // result.push(['黑'], ['红'])
      result.push(...colors.map(_ => [_]))
    } else {
      for (let i = 0; i < result.length; i++) {
        const item = result[i]
        const last1 = item[item.length - 1]
        const last2 = item[item.length - 2]
        const colorIndex = colors.findIndex(_ => checkEquals(last1, last2, _)) // 找到相同颜色
        const copyColors = colors.map(_ => _)
        if (colorIndex > -1) {
          // 去掉相同的颜色
          copyColors.splice(colorIndex, 1)
        }
        // 将其余颜色插入到结果中 (要将上一次的结果替换)
        result.splice(i, 1, ...copyColors.map(color => {
          const copyItem = item.map(_ => _)
          copyItem.push(color)
          return copyItem
        }))
        i += copyColors.length - 1 // i值需要更新
      }
    }
    index++
  }
  return result
}

log(nBallsNColors(5))
log(nBallsNColors(5, ['红', '黄', '蓝']))
```

输出结果:

``` js
// 原来的题目
[
  "黑, 黑, 红, 黑, 黑",
  "黑, 黑, 红, 黑, 红",
  "黑, 黑, 红, 红, 黑",
  "黑, 红, 黑, 黑, 红",
  "黑, 红, 黑, 红, 黑",
  "黑, 红, 黑, 红, 红",
  "黑, 红, 红, 黑, 黑",
  "黑, 红, 红, 黑, 红",
  "红, 黑, 黑, 红, 黑",
  "红, 黑, 黑, 红, 红",
  "红, 黑, 红, 黑, 黑",
  "红, 黑, 红, 黑, 红",
  "红, 黑, 红, 红, 黑",
  "红, 红, 黑, 黑, 红",
  "红, 红, 黑, 红, 黑",
  "红, 红, 黑, 红, 红"
]

// 修改后的题目
[
  "红, 红, 黄, 红, 红",
  "红, 红, 黄, 红, 黄",
  "红, 红, 黄, 红, 蓝",
  "红, 红, 黄, 黄, 红",
  "红, 红, 黄, 黄, 蓝",
  "红, 红, 黄, 蓝, 红",
  "红, 红, 黄, 蓝, 黄",
  "红, 红, 黄, 蓝, 蓝",
  "红, 红, 蓝, 红, 红",
  "红, 红, 蓝, 红, 黄",
  "红, 红, 蓝, 红, 蓝",
  "红, 红, 蓝, 黄, 红",
  "红, 红, 蓝, 黄, 黄",
  "红, 红, 蓝, 黄, 蓝",
  "红, 红, 蓝, 蓝, 红",
  "红, 红, 蓝, 蓝, 黄",
  "红, 黄, 红, 红, 黄",
  "红, 黄, 红, 红, 蓝",
  "红, 黄, 红, 黄, 红",
  "红, 黄, 红, 黄, 黄",
  "红, 黄, 红, 黄, 蓝",
  "红, 黄, 红, 蓝, 红",
  "红, 黄, 红, 蓝, 黄",
  "红, 黄, 红, 蓝, 蓝",
  "红, 黄, 黄, 红, 红",
  "红, 黄, 黄, 红, 黄",
  "红, 黄, 黄, 红, 蓝",
  "红, 黄, 黄, 蓝, 红",
  "红, 黄, 黄, 蓝, 黄",
  "红, 黄, 黄, 蓝, 蓝",
  "红, 黄, 蓝, 红, 红",
  "红, 黄, 蓝, 红, 黄",
  "红, 黄, 蓝, 红, 蓝",
  "红, 黄, 蓝, 黄, 红",
  "红, 黄, 蓝, 黄, 黄",
  "红, 黄, 蓝, 黄, 蓝",
  "红, 黄, 蓝, 蓝, 红",
  "红, 黄, 蓝, 蓝, 黄",
  "红, 蓝, 红, 红, 黄",
  "红, 蓝, 红, 红, 蓝",
  "红, 蓝, 红, 黄, 红",
  "红, 蓝, 红, 黄, 黄",
  "红, 蓝, 红, 黄, 蓝",
  "红, 蓝, 红, 蓝, 红",
  "红, 蓝, 红, 蓝, 黄",
  "红, 蓝, 红, 蓝, 蓝",
  "红, 蓝, 黄, 红, 红",
  "红, 蓝, 黄, 红, 黄",
  "红, 蓝, 黄, 红, 蓝",
  "红, 蓝, 黄, 黄, 红",
  "红, 蓝, 黄, 黄, 蓝",
  "红, 蓝, 黄, 蓝, 红",
  "红, 蓝, 黄, 蓝, 黄",
  "红, 蓝, 黄, 蓝, 蓝",
  "红, 蓝, 蓝, 红, 红",
  "红, 蓝, 蓝, 红, 黄",
  "红, 蓝, 蓝, 红, 蓝",
  "红, 蓝, 蓝, 黄, 红",
  "红, 蓝, 蓝, 黄, 黄",
  "红, 蓝, 蓝, 黄, 蓝",
  "黄, 红, 红, 黄, 红",
  "黄, 红, 红, 黄, 黄",
  "黄, 红, 红, 黄, 蓝",
  "黄, 红, 红, 蓝, 红",
  "黄, 红, 红, 蓝, 黄",
  "黄, 红, 红, 蓝, 蓝",
  "黄, 红, 黄, 红, 红",
  "黄, 红, 黄, 红, 黄",
  "黄, 红, 黄, 红, 蓝",
  "黄, 红, 黄, 黄, 红",
  "黄, 红, 黄, 黄, 蓝",
  "黄, 红, 黄, 蓝, 红",
  "黄, 红, 黄, 蓝, 黄",
  "黄, 红, 黄, 蓝, 蓝",
  "黄, 红, 蓝, 红, 红",
  "黄, 红, 蓝, 红, 黄",
  "黄, 红, 蓝, 红, 蓝",
  "黄, 红, 蓝, 黄, 红",
  "黄, 红, 蓝, 黄, 黄",
  "黄, 红, 蓝, 黄, 蓝",
  "黄, 红, 蓝, 蓝, 红",
  "黄, 红, 蓝, 蓝, 黄",
  "黄, 黄, 红, 红, 黄",
  "黄, 黄, 红, 红, 蓝",
  "黄, 黄, 红, 黄, 红",
  "黄, 黄, 红, 黄, 黄",
  "黄, 黄, 红, 黄, 蓝",
  "黄, 黄, 红, 蓝, 红",
  "黄, 黄, 红, 蓝, 黄",
  "黄, 黄, 红, 蓝, 蓝",
  "黄, 黄, 蓝, 红, 红",
  "黄, 黄, 蓝, 红, 黄",
  "黄, 黄, 蓝, 红, 蓝",
  "黄, 黄, 蓝, 黄, 红",
  "黄, 黄, 蓝, 黄, 黄",
  "黄, 黄, 蓝, 黄, 蓝",
  "黄, 黄, 蓝, 蓝, 红",
  "黄, 黄, 蓝, 蓝, 黄",
  "黄, 蓝, 红, 红, 黄",
  "黄, 蓝, 红, 红, 蓝",
  "黄, 蓝, 红, 黄, 红",
  "黄, 蓝, 红, 黄, 黄",
  "黄, 蓝, 红, 黄, 蓝",
  "黄, 蓝, 红, 蓝, 红",
  "黄, 蓝, 红, 蓝, 黄",
  "黄, 蓝, 红, 蓝, 蓝",
  "黄, 蓝, 黄, 红, 红",
  "黄, 蓝, 黄, 红, 黄",
  "黄, 蓝, 黄, 红, 蓝",
  "黄, 蓝, 黄, 黄, 红",
  "黄, 蓝, 黄, 黄, 蓝",
  "黄, 蓝, 黄, 蓝, 红",
  "黄, 蓝, 黄, 蓝, 黄",
  "黄, 蓝, 黄, 蓝, 蓝",
  "黄, 蓝, 蓝, 红, 红",
  "黄, 蓝, 蓝, 红, 黄",
  "黄, 蓝, 蓝, 红, 蓝",
  "黄, 蓝, 蓝, 黄, 红",
  "黄, 蓝, 蓝, 黄, 黄",
  "黄, 蓝, 蓝, 黄, 蓝",
  "蓝, 红, 红, 黄, 红",
  "蓝, 红, 红, 黄, 黄",
  "蓝, 红, 红, 黄, 蓝",
  "蓝, 红, 红, 蓝, 红",
  "蓝, 红, 红, 蓝, 黄",
  "蓝, 红, 红, 蓝, 蓝",
  "蓝, 红, 黄, 红, 红",
  "蓝, 红, 黄, 红, 黄",
  "蓝, 红, 黄, 红, 蓝",
  "蓝, 红, 黄, 黄, 红",
  "蓝, 红, 黄, 黄, 蓝",
  "蓝, 红, 黄, 蓝, 红",
  "蓝, 红, 黄, 蓝, 黄",
  "蓝, 红, 黄, 蓝, 蓝",
  "蓝, 红, 蓝, 红, 红",
  "蓝, 红, 蓝, 红, 黄",
  "蓝, 红, 蓝, 红, 蓝",
  "蓝, 红, 蓝, 黄, 红",
  "蓝, 红, 蓝, 黄, 黄",
  "蓝, 红, 蓝, 黄, 蓝",
  "蓝, 红, 蓝, 蓝, 红",
  "蓝, 红, 蓝, 蓝, 黄",
  "蓝, 黄, 红, 红, 黄",
  "蓝, 黄, 红, 红, 蓝",
  "蓝, 黄, 红, 黄, 红",
  "蓝, 黄, 红, 黄, 黄",
  "蓝, 黄, 红, 黄, 蓝",
  "蓝, 黄, 红, 蓝, 红",
  "蓝, 黄, 红, 蓝, 黄",
  "蓝, 黄, 红, 蓝, 蓝",
  "蓝, 黄, 黄, 红, 红",
  "蓝, 黄, 黄, 红, 黄",
  "蓝, 黄, 黄, 红, 蓝",
  "蓝, 黄, 黄, 蓝, 红",
  "蓝, 黄, 黄, 蓝, 黄",
  "蓝, 黄, 黄, 蓝, 蓝",
  "蓝, 黄, 蓝, 红, 红",
  "蓝, 黄, 蓝, 红, 黄",
  "蓝, 黄, 蓝, 红, 蓝",
  "蓝, 黄, 蓝, 黄, 红",
  "蓝, 黄, 蓝, 黄, 黄",
  "蓝, 黄, 蓝, 黄, 蓝",
  "蓝, 黄, 蓝, 蓝, 红",
  "蓝, 黄, 蓝, 蓝, 黄",
  "蓝, 蓝, 红, 红, 黄",
  "蓝, 蓝, 红, 红, 蓝",
  "蓝, 蓝, 红, 黄, 红",
  "蓝, 蓝, 红, 黄, 黄",
  "蓝, 蓝, 红, 黄, 蓝",
  "蓝, 蓝, 红, 蓝, 红",
  "蓝, 蓝, 红, 蓝, 黄",
  "蓝, 蓝, 红, 蓝, 蓝",
  "蓝, 蓝, 黄, 红, 红",
  "蓝, 蓝, 黄, 红, 黄",
  "蓝, 蓝, 黄, 红, 蓝",
  "蓝, 蓝, 黄, 黄, 红",
  "蓝, 蓝, 黄, 黄, 蓝",
  "蓝, 蓝, 黄, 蓝, 红",
  "蓝, 蓝, 黄, 蓝, 黄",
  "蓝, 蓝, 黄, 蓝, 蓝"
]
```

结果也很长...

然后, 再次扩展

## 不只3个连续的, 如果是多个连续呢

比如5个?

这个思路比较简单, 把判断相同那里改一下即可

``` js
// n个球 n个颜色 n长度
const nBallsNColorsNLength = (
  n,
  colors = ['黑', '红'],
  length = 3
) => {
  let index = 0
  const result = []
  while (index < n) {
    if (!result.length) {
      // 放入第一个球
      // result.push(['黑'], ['红'])
      result.push(...colors.map(_ => [_]))
    } else {
      for (let i = 0; i < result.length; i++) {
        const item = result[i]
        const lasts = item.slice(1 - length)
        const colorIndex = lasts.length < length - 1
          ? -1 // lasts长度不够指定长度的时候
          : colors.findIndex(_ => checkEquals(...lasts, _)) // 找到相同颜色
        const copyColors = colors.map(_ => _)
        if (colorIndex > -1) {
          // 去掉相同的颜色
          copyColors.splice(colorIndex, 1)
        }
        // 将其余颜色插入到结果中 (要将上一次的结果替换)
        result.splice(i, 1, ...copyColors.map(color => {
          const copyItem = item.map(_ => _)
          copyItem.push(color)
          return copyItem
        }))
        i += copyColors.length - 1 // i值需要更新
      }
    }
    index++
  }
  return result
}

log(nBallsNColorsNLength(5))
log(nBallsNColorsNLength(6, ['黑', '红'], 4))
```

``` js
// 原来的题目
[
  "黑, 黑, 红, 黑, 黑",
  "黑, 黑, 红, 黑, 红",
  "黑, 黑, 红, 红, 黑",
  "黑, 红, 黑, 黑, 红",
  "黑, 红, 黑, 红, 黑",
  "黑, 红, 黑, 红, 红",
  "黑, 红, 红, 黑, 黑",
  "黑, 红, 红, 黑, 红",
  "红, 黑, 黑, 红, 黑",
  "红, 黑, 黑, 红, 红",
  "红, 黑, 红, 黑, 黑",
  "红, 黑, 红, 黑, 红",
  "红, 黑, 红, 红, 黑",
  "红, 红, 黑, 黑, 红",
  "红, 红, 黑, 红, 黑",
  "红, 红, 黑, 红, 红"
]

// 修改后的题目
[
  "黑, 黑, 黑, 红, 黑, 黑",
  "黑, 黑, 黑, 红, 黑, 红",
  "黑, 黑, 黑, 红, 红, 黑",
  "黑, 黑, 黑, 红, 红, 红",
  "黑, 黑, 红, 黑, 黑, 黑",
  "黑, 黑, 红, 黑, 黑, 红",
  "黑, 黑, 红, 黑, 红, 黑",
  "黑, 黑, 红, 黑, 红, 红",
  "黑, 黑, 红, 红, 黑, 黑",
  "黑, 黑, 红, 红, 黑, 红",
  "黑, 黑, 红, 红, 红, 黑",
  "黑, 红, 黑, 黑, 黑, 红",
  "黑, 红, 黑, 黑, 红, 黑",
  "黑, 红, 黑, 黑, 红, 红",
  "黑, 红, 黑, 红, 黑, 黑",
  "黑, 红, 黑, 红, 黑, 红",
  "黑, 红, 黑, 红, 红, 黑",
  "黑, 红, 黑, 红, 红, 红",
  "黑, 红, 红, 黑, 黑, 黑",
  "黑, 红, 红, 黑, 黑, 红",
  "黑, 红, 红, 黑, 红, 黑",
  "黑, 红, 红, 黑, 红, 红",
  "黑, 红, 红, 红, 黑, 黑",
  "黑, 红, 红, 红, 黑, 红",
  "红, 黑, 黑, 黑, 红, 黑",
  "红, 黑, 黑, 黑, 红, 红",
  "红, 黑, 黑, 红, 黑, 黑",
  "红, 黑, 黑, 红, 黑, 红",
  "红, 黑, 黑, 红, 红, 黑",
  "红, 黑, 黑, 红, 红, 红",
  "红, 黑, 红, 黑, 黑, 黑",
  "红, 黑, 红, 黑, 黑, 红",
  "红, 黑, 红, 黑, 红, 黑",
  "红, 黑, 红, 黑, 红, 红",
  "红, 黑, 红, 红, 黑, 黑",
  "红, 黑, 红, 红, 黑, 红",
  "红, 黑, 红, 红, 红, 黑",
  "红, 红, 黑, 黑, 黑, 红",
  "红, 红, 黑, 黑, 红, 黑",
  "红, 红, 黑, 黑, 红, 红",
  "红, 红, 黑, 红, 黑, 黑",
  "红, 红, 黑, 红, 黑, 红",
  "红, 红, 黑, 红, 红, 黑",
  "红, 红, 黑, 红, 红, 红",
  "红, 红, 红, 黑, 黑, 黑",
  "红, 红, 红, 黑, 黑, 红",
  "红, 红, 红, 黑, 红, 黑",
  "红, 红, 红, 黑, 红, 红"
]
```

还有其他的思路来解决这个问题

比如列出所有可能, 然后去掉不满足条件的

比如由上而下的列出合适的(我的方法是由左至右)

这道题就先到这里, 希望对大家拓展思维有帮助
